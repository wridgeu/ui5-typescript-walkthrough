{"version":3,"file":"InvoiceList.controller.js","names":["formatter","_interopRequireDefault","__formatter","App","Controller","extend","constructor","prototype","apply","this","arguments","onInit","_onInit","viewModel","JSONModel","currency","getView","setModel","onFilterInvoices","_onFilterInvoices","event","filter","query","getParameter","push","Filter","FilterOperator","Contains","list","byId","binding","getBinding","onPress","_onPress","item","getSource","router","getOwnerComponent","getRouter","navTo","invoicePath","window","encodeURIComponent","getBindingContext","getPath","substr"],"sources":["InvoiceList.controller.ts"],"sourcesContent":["import Controller from \"sap/ui/core/mvc/Controller\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport formatter from \"../model/formatter\";\nimport { SearchField$SearchEvent } from \"sap/m/SearchField\";\nimport Filter from \"sap/ui/model/Filter\";\nimport FilterOperator from \"sap/ui/model/FilterOperator\";\nimport ListBinding from \"sap/ui/model/ListBinding\";\nimport Component from \"../Component\";\nimport Event from \"sap/ui/base/Event\";\nimport ObjectListItem from \"sap/m/ObjectListItem\";\n\n/**\n * @namespace ui5.walkthrough.controller\n */\nexport default class App extends Controller {\n    public formatter = formatter;\n\n    onInit(): void {\n        const viewModel = new JSONModel({\n            currency: \"EUR\"\n        });\n        this.getView()?.setModel(viewModel, \"view\");        \n    }\n\n    onFilterInvoices(event: SearchField$SearchEvent): void {\n        // build filter array\n        const filter = [];\n        const query = event.getParameter(\"query\");\n        if (query) {\n            filter.push(new Filter(\"ProductName\", FilterOperator.Contains, query));\n        }\n\n        // filter binding\n        const list = this.byId(\"invoiceList\");\n        const binding = <ListBinding> list?.getBinding(\"items\");\n        binding?.filter(filter);\n    }\n\n    onPress(event: Event): void {\n        const item = <ObjectListItem> event.getSource();\n        const router = (<Component> this.getOwnerComponent()).getRouter();\n        router.navTo(\"detail\", {\n            invoicePath: window.encodeURIComponent(item.getBindingContext(\"invoice\").getPath().substr(1))\n        });\n    }    \n};"],"mappings":"yRAEOA,EAASC,EAAAC,GAShB,MAGqBC,EAAYC,EAAUC,OAAA,kCAAAC,YAAA,SAAAA,IAAAF,EAAAG,UAAAD,YAAAE,MAAAC,KAAAC,WAAAD,KAChCT,UAAYA,CAAS,EAE5BW,OAAM,SAAAC,IACF,MAAMC,EAAY,IAAIC,EAAU,CAC5BC,SAAU,QAEdN,KAAKO,WAAWC,SAASJ,EAAW,OACxC,EAEAK,iBAAgB,SAAAC,EAACC,GAEb,MAAMC,EAAS,GACf,MAAMC,EAAQF,EAAMG,aAAa,SACjC,GAAID,EAAO,CACPD,EAAOG,KAAK,IAAIC,EAAO,cAAeC,EAAeC,SAAUL,GACnE,CAGA,MAAMM,EAAOnB,KAAKoB,KAAK,eACvB,MAAMC,EAAwBF,GAAMG,WAAW,SAC/CD,GAAST,OAAOA,EACpB,EAEAW,QAAO,SAAAC,EAACb,GACJ,MAAMc,EAAwBd,EAAMe,YACpC,MAAMC,EAAsB3B,KAAK4B,oBAAqBC,YACtDF,EAAOG,MAAM,SAAU,CACnBC,YAAaC,OAAOC,mBAAmBR,EAAKS,kBAAkB,WAAWC,UAAUC,OAAO,KAElG,IACF,OA/BmB1C,CAAG"}