{"version":3,"file":"ProductRating-dbg.js","names":["ProductRating","Control","extend","renderer","apiVersion","render","rm","control","tooltip","getTooltip_AsString","openStart","class","attr","openEnd","renderControl","getAggregation","close","metadata","properties","value","type","defaultValue","aggregations","_rating","multiple","visibility","_label","_button","events","change","parameters","constructor","_constructor","id","settings","Control.prototype.constructor.call","init","_init","setAggregation","RatingIndicator","getValue","iconSize","liveChange","_onRate","bind","Label","text","addStyleClass","Button","press","_onSubmit","setValue","_setValue","setProperty","reset","_reset","resourceBundle","getModel","getResourceBundle","setDesign","setEnabled","setText","getText","event","ressourceBundle","getParameter","getSource","getMaxValue","fireEvent"],"sources":["ProductRating.ts"],"sourcesContent":["import Control from \"sap/ui/core/Control\";\nimport RenderManager from \"sap/ui/core/RenderManager\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport Label from \"sap/m/Label\";\nimport Button, { Button$PressEvent } from \"sap/m/Button\";\nimport RatingIndicator, { RatingIndicator$LiveChangeEvent } from \"sap/m/RatingIndicator\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\n\n/**\n * @namespace ui5.walkthrough.control\n */\nexport default class ProductRating extends Control {\n\t// The following three lines were generated and should remain as-is to make TypeScript aware of the constructor signatures\n\tconstructor(idOrSettings?: string | $ProductRatingSettings);\n\tconstructor(id?: string, settings?: $ProductRatingSettings);\n\tconstructor(id?: string, settings?: $ProductRatingSettings) { super(id, settings); }\t\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tproperties: {\n\t\t\tvalue: {\n\t\t\t\ttype: \"float\",\n\t\t\t\tdefaultValue: 0\n\t\t\t}\n\t\t},\n\t\taggregations: {\n\t\t\t_rating: {\n\t\t\t\ttype: \"sap.m.RatingIndicator\", \n\t\t\t\tmultiple: false,\n\t\t\t\tvisibility: \"hidden\"\n\t\t\t},\n\t\t\t_label: {\n\t\t\t\ttype: \"sap.m.Label\", \n\t\t\t\tmultiple: false,\n\t\t\t\tvisibility: \"hidden\"\n\t\t\t},\n\t\t\t_button: {\n\t\t\t\ttype: \"sap.m.Button\",\n\t\t\t\tmultiple: false,\n\t\t\t\tvisibility: \"hidden\"\n\t\t\t} \n\t\t},\n\t\tevents: {\n\t\t\tchange: {\n\t\t\t\tparameters: {\n\t\t\t\t\t\"value\": \"float\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tinit(): void {\n\t\tthis.setAggregation(\"_rating\", new RatingIndicator({\n\t\t\tvalue: this.getValue(),\n\t\t\ticonSize: \"2rem\",\n\t\t\tliveChange: this._onRate.bind(this)\n\t\t}));\n\t\tthis.setAggregation(\"_label\", new Label({\n\t\t\ttext: \"{i18n>productRatingLabelInitial}\"\n\t\t}).addStyleClass(\"sapUiSmallMargin\"));\n\t\tthis.setAggregation(\"_button\", new Button({\n\t\t\ttext: \"{i18n>productRatingButton}\",\n\t\t\tpress: this._onSubmit.bind(this)\n\t\t}).addStyleClass(\"sapUiTinyMarginTopBottom\"));\n\t}\n\n\tsetValue(value: \"float\" ): ProductRating {\n\t\tthis.setProperty(\"value\", value, true);\n\t\t(<RatingIndicator> this.getAggregation(\"_rating\")).setValue(value);\n\n\t\treturn this;\t\t\n\t}\n\n\treset(): void {\n\t\tconst resourceBundle = <ResourceBundle> (<ResourceModel> this?.getModel(\"i18n\"))?.getResourceBundle();\n\n\t\tthis.setValue(0);\n\t\t(<Label> this.getAggregation(\"_label\")).setDesign(\"Standard\");\n\t\t(<RatingIndicator> this.getAggregation(\"_rating\")).setEnabled(true);\n\t\t(<Label> this.getAggregation(\"_label\")).setText(resourceBundle.getText(\"productRatingLabelInitial\"));\n\t\t(<Button> this.getAggregation(\"_button\")).setEnabled(true);\n\t}\n\n\t_onRate(event: RatingIndicator$LiveChangeEvent): void {\n\t\tconst ressourceBundle = <ResourceBundle> (<ResourceModel> this?.getModel(\"i18n\"))?.getResourceBundle();\n\t\tconst value = event.getParameter(\"value\");\n\n\t\tthis.setProperty(\"value\", value, true);\n\n\t\t(<Label> this.getAggregation(\"_label\")).setText(ressourceBundle.getText(\"productRatingLabelIndicator\", [value, (<RatingIndicator> event.getSource()).getMaxValue()]));\n\t\t(<Label> this.getAggregation(\"_label\")).setDesign(\"Bold\");\n\t}\n\n\t_onSubmit(event: Button$PressEvent): void {\n\t\tconst resourceBundle = <ResourceBundle> (<ResourceModel> this?.getModel(\"i18n\"))?.getResourceBundle();\n\n\t\t(<RatingIndicator> this.getAggregation(\"_rating\")).setEnabled(false);\n\t\t(<Label> this.getAggregation(\"_label\")).setText(resourceBundle.getText(\"productRatingLabelFinal\"));\n\t\t(<Button> this.getAggregation(\"_button\")).setEnabled(false);\n\t\tthis.fireEvent(\"change\", {\n\t\t\tvalue: this.getValue()\n\t\t})\n\t}\n\n\trenderer = {  \n\t\tapiVersion: 4,\n\t\trender: (rm: RenderManager, control: ProductRating) => {\n\t\t\tconst tooltip = control.getTooltip_AsString();\n\t\t\trm.openStart(\"div\", control);\n\t\t\trm.class(\"myAppDemoWTProductRating\");\n\t\t\tif (tooltip) {\n\t\t\t\trm.attr(\"title\", tooltip);\n\t\t\t}\n\t\t\trm.openEnd();\n\t\t\trm.renderControl(<Control> control.getAggregation(\"_rating\"));\n\t\t\trm.renderControl(<Control> control.getAggregation(\"_label\"));\n\t\t\trm.renderControl(<Control> control.getAggregation(\"_button\"));\n\t\t\trm.close(\"div\");\n\t\t}\n\t}\n};\n"],"mappings":"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"}